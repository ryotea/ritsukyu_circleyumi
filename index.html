<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>動的な表</title>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
    <style>
        /* ここにCSSを追加 */


table {
    width: 100%;
    border-collapse: collapse;
}

th, td {
    padding: 8px;
    text-align: left;
    border-bottom: 1px solid #ddd;
}

th {
    cursor: pointer;
    background-color: #f2f2f2;
}

tr:hover {
    background-color: #f5f5f5;
}





    </style>
</head>
<body>
    <input type="button" value="行を追加" onclick="addRow()">

    <!-- チェックボックスの追加 -->
    <label>
      <input type="checkbox" id="toggleEmptyRows" checked> 使用中の弓も表示
    </label>

    <label>空欄判定する列:
      <select id="columnToCheck">
        <option value="0">弓力</option>
        <option value="1">番号</option>
        <option value="2">長さ</option>
        <option value="3">銘柄</option>
        <option value="4">使用者</option>
        <option value="5">備考1</option>
        <option value="6">備考2</option>
      </select>
    </label>

    <br>
    <br>
    <table id="myTable" class="display">
        <thead>
            <tr>
                <th onclick="sortTable(0)">弓力</th>
                <th onclick="sortTable(1)">番号</th>
                <th onclick="sortTable(2)">長さ</th>
                <th onclick="sortTable(3)">銘柄</th>
                <th onclick="sortTable(4)">使用者</th>
                <th onclick="sortTable(5)">備考1</th>
                <th onclick="sortTable(6)">備考2</th>
            </tr>
        </thead>
        <tbody>
            <!-- ここに表のデータを追加 -->

<tr>
    <td>7</td>
    <td>7-2</td>
    <td>並</td>
    <td></td>
    <td>杉森桃花</td>
    <td></td>
    <td></td>

</tr>
<tr>
    <td>16</td>
    <td>16-3</td>
    <td>伸</td>
    <td>平安特作</td>
    <td>髙橋遼太</td>
    <td>紫弓袋</td>
    <td></td>

</tr>
<tr>
    <td>10</td>
    <td>10-1</td>
    <td></td>
    <td></td>
    <td>七種</td>
    <td></td>
    <td>自宅</td>

</tr>
<tr>
    <td>11</td>
    <td>11-1</td>
    <td>並</td>
    <td>桂</td>
    <td>木瀬柚月</td>
    <td>赤弓袋</td>
    <td></td>

</tr>
<tr>
    <td>10</td>
    <td></td>
    <td>並</td>
    <td>楓</td>
    <td>小林来実</td>
    <td>黄色弓袋</td>
    <td></td>

</tr>
<tr>
    <td>13</td>
    <td></td>
    <td>伸</td>
    <td>練心</td>
    <td>黒田龍馬</td>
    <td></td>
    <td></td>

</tr>
<tr>
    <td>12</td>
    <td></td>
    <td>並</td>
    <td>練心</td>
    <td>村井佳乃子</td>
    <td>黄色無地弓袋</td>
    <td></td>

</tr>
<tr>
    <td>13</td>
    <td></td>
    <td></td>
    <td></td>
    <td>鈴木健太</td>
    <td></td>
    <td></td>

</tr>
<tr>
    <td>8</td>
    <td>8-1</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>

</tr>
<tr>
    <td>8</td>
    <td>8-2</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>

</tr>
<tr>
    <td>8</td>
    <td>8-3</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>

</tr>
<tr>
    <td>8</td>
    <td>8-4</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>

</tr>
<tr>
    <td>9</td>
    <td>9-1</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>

</tr>
<tr>
    <td>9</td>
    <td>9-3</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>

</tr>
<tr>
    <td>10</td>
    <td>10</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>

</tr>
<tr>
    <td>10</td>
    <td>10-6</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>

</tr>
<tr>
    <td>12</td>
    <td>12</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>

</tr>
<tr>
    <td>15</td>
    <td>15-2</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>

</tr>
<tr>
    <td>15</td>
    <td>15</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>

</tr>
<tr>
    <td>16</td>
    <td>16-1</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>

</tr>
<tr>
    <td>16</td>
    <td>16-2</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>

</tr>
<tr>
    <td>17</td>
    <td>17-1</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>

</tr>
<tr>
    <td>17</td>
    <td>17-2</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>

</tr>
<tr>
    <td>17</td>
    <td>17-3</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>

</tr>
<tr>
    <td>20</td>
    <td>20-1</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td>坪井宅</td>

</tr>
<tr>
    <td>20</td>
    <td>20-2</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td>坪井宅</td>

</tr>
<tr>
    <td>20</td>
    <td>20-3</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td>坪井宅</td>

</tr>
<tr>
    <td>12</td>
    <td>12-13</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>

</tr>
<tr>
    <td>14</td>
    <td>14-5</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>

</tr>
<tr>
    <td>12</td>
    <td></td>
    <td>伸</td>
    <td>橘</td>
    <td></td>
    <td></td>
    <td></td>
</tr>
<tr>
    <td>11</td>
    <td></td>
    <td>並</td>
    <td>楓</td>
    <td></td>
    <td></td>
    <td></td>
</tr>


        </tbody>
    </table>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script>

        // ここにJavaScriptを追加
$(document).ready(function () {
    // DataTablesを初期化
    let table = $('#myTable').DataTable({
        "paging": false,
        "lengthChange": false,
        "searching": true,
        "ordering": true,
        "info": true,
        "autoWidth": false,
    "responsive": true,
});

// 行を追加する関数
function addRow() {
    table.row.add([
        '新しいデータ',
        '新しいデータ',
        '新しいデータ',
        '新しいデータ',
        '新しいデータ',
        '新しいデータ',
        '新しいデータ'
    ]).draw();
}

// 空欄の行を表示するチェックボックスの状態を取得
document.getElementById('toggleEmptyRows').addEventListener('change', function () {
    let showEmptyRows = this.checked;
    let columnToCheck = parseInt(document.getElementById('columnToCheck').value);

    // 表示する列を切り替える
    if (showEmptyRows) {
        table.columns(columnToCheck).search('').draw();
    } else {
        table.columns(columnToCheck).search('^\\s*$', 'i', true).draw();
    }
});

});
</script>
</body>
</html>
